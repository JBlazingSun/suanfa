<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.blazings.suanfa.sql.sqlintroduction.dao.UserProfileDao">

    <resultMap type="com.blazings.suanfa.sql.sqlintroduction.entity.UserProfile" id="UserProfileMap">
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="deviceId" column="device_id" jdbcType="INTEGER"/>
        <result property="gender" column="gender" jdbcType="VARCHAR"/>
        <result property="age" column="age" jdbcType="INTEGER"/>
        <result property="university" column="university" jdbcType="VARCHAR"/>
        <result property="province" column="province" jdbcType="VARCHAR"/>
        <result property="gpa" column="gpa" jdbcType="NUMERIC"/>
    </resultMap>

    <insert id="insertBatch" keyProperty="" useGeneratedKeys="true">
        insert into sqlintroduction.user_profile(id, device_id, gender, age, university, province, gpa)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.id}, #{entity.deviceId}, #{entity.gender}, #{entity.age}, #{entity.university}, #{entity.province}, #{entity.gpa})
        </foreach>
    </insert>
    <insert id="insertOrUpdateBatch" keyProperty="" useGeneratedKeys="true">
        insert into sqlintroduction.user_profile(id, device_id, gender, age, university, province, gpa)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.id}, #{entity.deviceId}, #{entity.gender}, #{entity.age}, #{entity.university}, #{entity.province}, #{entity.gpa})
        </foreach>
        on duplicate key update
        id = values(id) , device_id = values(device_id) , gender = values(gender) , age = values(age) , university = values(university) ,
        province = values(province) , gpa = values(gpa)
    </insert>

</mapper>

